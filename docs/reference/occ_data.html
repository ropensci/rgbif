<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Search for GBIF occurrences - simplified for speed — occ_data • rgbif</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Search for GBIF occurrences - simplified for speed — occ_data" />

<meta property="og:description" content="Search for GBIF occurrences - simplified for speed" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgbif</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0.9113</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/downloads.html">UNKNOWN TITLE</a>
    </li>
    <li>
      <a href="../articles/issues_vignette.html">UNKNOWN TITLE</a>
    </li>
    <li>
      <a href="../articles/rgbif_vignette.html">UNKNOWN TITLE</a>
    </li>
    <li>
      <a href="../articles/taxonomic_names.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/rgbif">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Search for GBIF occurrences - simplified for speed</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/rgbif/blob/master/R/occ_data.R'><code>R/occ_data.R</code></a></small>
    <div class="hidden name"><code>occ_data.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Search for GBIF occurrences - simplified for speed</p>
    
    </div>

    <pre class="usage"><span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>scientificName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>publishingCountry</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>hasCoordinate</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>typeStatus</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>recordNumber</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>lastInterpreted</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>continent</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>geometry</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>geom_big</span> <span class='kw'>=</span> <span class='st'>"asis"</span>, <span class='kw'>geom_size</span> <span class='kw'>=</span> <span class='fl'>40</span>, <span class='kw'>geom_n</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>recordedBy</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>basisOfRecord</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>datasetKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>eventDate</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>catalogNumber</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>year</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>month</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>decimalLatitude</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>decimalLongitude</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>elevation</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>depth</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>institutionCode</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>collectionCode</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>hasGeospatialIssue</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>issue</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>search</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>mediaType</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>subgenusKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>repatriated</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>phylumKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>kingdomKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>classKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>orderKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>familyKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>genusKey</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>establishmentMeans</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>protocol</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>license</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>organismId</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>publishingOrg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>stateProvince</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>waterBody</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>locality</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>spellCheck</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>skip_validate</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>curlopts</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>taxonKey</th>
      <td><p>(numeric) A taxon key from the GBIF backbone. All included and synonym taxa
are included in the search, so a search for aves with taxononKey=212
(i.e. /occurrence/search?taxonKey=212) will match all birds, no matter which
species. You can pass many keys by passing occ_search in a call to an
lapply-family function (see last example below).</p></td>
    </tr>
    <tr>
      <th>scientificName</th>
      <td><p>A scientific name from the GBIF backbone. All included and synonym
taxa are included in the search.</p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>The 2-letter country code (as per ISO-3166-1) of the country in
which the occurrence was recorded. See here
<a href='http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2'>http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2</a></p></td>
    </tr>
    <tr>
      <th>publishingCountry</th>
      <td><p>The 2-letter country code (as per ISO-3166-1) of the
country in which the occurrence was recorded.</p></td>
    </tr>
    <tr>
      <th>hasCoordinate</th>
      <td><p>(logical) Return only occurence records with lat/long data (<code>TRUE</code>) or
all records (<code>FALSE</code>, default).</p></td>
    </tr>
    <tr>
      <th>typeStatus</th>
      <td><p>Type status of the specimen. One of many options. See <code><a href='typestatus.html'>?typestatus</a></code></p></td>
    </tr>
    <tr>
      <th>recordNumber</th>
      <td><p>Number recorded by collector of the data, different from GBIF record
number. See <a href='http://rs.tdwg.org/dwc/terms/#recordNumber'>http://rs.tdwg.org/dwc/terms/#recordNumber</a> for more info</p></td>
    </tr>
    <tr>
      <th>lastInterpreted</th>
      <td><p>Date the record was last modified in GBIF, in ISO 8601 format:
yyyy, yyyy-MM, yyyy-MM-dd, or MM-dd.  Supports range queries, smaller,larger (e.g.,
'1990,1991', whereas '1991,1990' wouldn't work)</p></td>
    </tr>
    <tr>
      <th>continent</th>
      <td><p>Continent. One of africa, antarctica, asia, europe, north_america
(North America includes the Caribbean and reachies down and includes Panama), oceania,
or south_america</p></td>
    </tr>
    <tr>
      <th>geometry</th>
      <td><p>Searches for occurrences inside a polygon described in Well Known
Text (WKT) format. A WKT shape written as either POINT, LINESTRING, LINEARRING
POLYGON, or MULTIPOLYGON. Example of a polygon: POLYGON((30.1 10.1, 20, 20 40, 40 40, 30.1 10.1))
would be queried as <a href='http://bit.ly/1BzNwDq'>http://bit.ly/1BzNwDq</a>. See also the section <strong>WKT</strong> below.</p></td>
    </tr>
    <tr>
      <th>geom_big</th>
      <td><p>(character) One of "axe", "bbox", or "asis" (default). See Details.</p></td>
    </tr>
    <tr>
      <th>geom_size</th>
      <td><p>(integer) An integer indicating size of the cell. Default: 40. See Details.</p></td>
    </tr>
    <tr>
      <th>geom_n</th>
      <td><p>(integer) An integer indicating number of cells in each dimension. Default: 10.
See Details.</p></td>
    </tr>
    <tr>
      <th>recordedBy</th>
      <td><p>The person who recorded the occurrence.</p></td>
    </tr>
    <tr>
      <th>basisOfRecord</th>
      <td><p>Basis of record, as defined in our BasisOfRecord enum here
<a href='http://gbif.github.io/gbif-api/apidocs/org/gbif/api/vocabulary/BasisOfRecord.html'>http://gbif.github.io/gbif-api/apidocs/org/gbif/api/vocabulary/BasisOfRecord.html</a>
Acceptable values are:</p><ul>
<li><p>FOSSIL_SPECIMEN An occurrence record describing a fossilized specimen.</p></li>
<li><p>HUMAN_OBSERVATION An occurrence record describing an observation made by
one or more people.</p></li>
<li><p>LITERATURE An occurrence record based on literature alone.</p></li>
<li><p>LIVING_SPECIMEN An occurrence record describing a living specimen, e.g.</p></li>
<li><p>MACHINE_OBSERVATION An occurrence record describing an observation made
by a machine.</p></li>
<li><p>OBSERVATION An occurrence record describing an observation.</p></li>
<li><p>PRESERVED_SPECIMEN An occurrence record describing a preserved specimen.</p></li>
<li><p>UNKNOWN Unknown basis for the record.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>datasetKey</th>
      <td><p>The occurrence dataset key (a uuid)</p></td>
    </tr>
    <tr>
      <th>eventDate</th>
      <td><p>Occurrence date in ISO 8601 format: yyyy, yyyy-MM, yyyy-MM-dd, or
MM-dd. Supports range queries, smaller,larger (e.g., '1990,1991', whereas '1991,1990'
wouldn't work)</p></td>
    </tr>
    <tr>
      <th>catalogNumber</th>
      <td><p>An identifier of any form assigned by the source within a
physical collection or digital dataset for the record which may not unique,
but should be fairly unique in combination with the institution and collection code.</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>The 4 digit year. A year of 98 will be interpreted as AD 98. Supports range queries,
smaller,larger (e.g., '1990,1991', whereas '1991,1990' wouldn't work)</p></td>
    </tr>
    <tr>
      <th>month</th>
      <td><p>The month of the year, starting with 1 for January. Supports range queries,
smaller,larger (e.g., '1,2', whereas '2,1' wouldn't work)</p></td>
    </tr>
    <tr>
      <th>decimalLatitude</th>
      <td><p>Latitude in decimals between -90 and 90 based on WGS 84.
Supports range queries, smaller,larger (e.g., '25,30', whereas '30,25' wouldn't work)</p></td>
    </tr>
    <tr>
      <th>decimalLongitude</th>
      <td><p>Longitude in decimals between -180 and 180 based on WGS 84.
Supports range queries (e.g., '-0.4,-0.2', whereas '-0.2,-0.4' wouldn't work).</p></td>
    </tr>
    <tr>
      <th>elevation</th>
      <td><p>Elevation in meters above sea level. Supports range queries, smaller,larger
(e.g., '5,30', whereas '30,5' wouldn't work)</p></td>
    </tr>
    <tr>
      <th>depth</th>
      <td><p>Depth in meters relative to elevation. For example 10 meters below a
lake surface with given elevation. Supports range queries, smaller,larger (e.g., '5,30',
whereas '30,5' wouldn't work)</p></td>
    </tr>
    <tr>
      <th>institutionCode</th>
      <td><p>An identifier of any form assigned by the source to identify
the institution the record belongs to. Not guaranteed to be que.</p></td>
    </tr>
    <tr>
      <th>collectionCode</th>
      <td><p>An identifier of any form assigned by the source to identify
the physical collection or digital dataset uniquely within the text of an institution.</p></td>
    </tr>
    <tr>
      <th>hasGeospatialIssue</th>
      <td><p>(logical) Includes/excludes occurrence records which contain spatial
issues (as determined in our record interpretation), i.e. <code>hasGeospatialIssue=TRUE</code>
returns only those records with spatial issues while <code>hasGeospatialIssue=FALSE</code> includes
only records without spatial issues. The absence of this parameter returns any
record with or without spatial issues.</p></td>
    </tr>
    <tr>
      <th>issue</th>
      <td><p>(character) One or more of many possible issues with each occurrence record. See
Details. Issues passed to this parameter filter results by the issue.</p></td>
    </tr>
    <tr>
      <th>search</th>
      <td><p>Query terms. The value for this parameter can be a simple word or a phrase.</p></td>
    </tr>
    <tr>
      <th>mediaType</th>
      <td><p>Media type. Default is NULL, so no filtering on mediatype. Options:
NULL, 'MovingImage', 'Sound', and 'StillImage'.</p></td>
    </tr>
    <tr>
      <th>subgenusKey</th>
      <td><p>(numeric) Subgenus classification key.</p></td>
    </tr>
    <tr>
      <th>repatriated</th>
      <td><p>(character) Searches for records whose publishing country
is different to the country where the record was recorded in.</p></td>
    </tr>
    <tr>
      <th>phylumKey</th>
      <td><p>(numeric) Phylum classification key.</p></td>
    </tr>
    <tr>
      <th>kingdomKey</th>
      <td><p>(numeric) Kingdom classification key.</p></td>
    </tr>
    <tr>
      <th>classKey</th>
      <td><p>(numeric) Class classification key.</p></td>
    </tr>
    <tr>
      <th>orderKey</th>
      <td><p>(numeric) Order classification key.</p></td>
    </tr>
    <tr>
      <th>familyKey</th>
      <td><p>(numeric) Family classification key.</p></td>
    </tr>
    <tr>
      <th>genusKey</th>
      <td><p>(numeric) Genus classification key.</p></td>
    </tr>
    <tr>
      <th>establishmentMeans</th>
      <td><p>(character) EstablishmentMeans, possible values
include: INTRODUCED, INVASIVE, MANAGED, NATIVE, NATURALISED, UNCERTAIN</p></td>
    </tr>
    <tr>
      <th>protocol</th>
      <td><p>(character) Protocol or mechanism used to provide the
occurrence record. See Details for possible values</p></td>
    </tr>
    <tr>
      <th>license</th>
      <td><p>(character) The type license applied to the dataset or record.
Possible values: CC0_1_0, CC_BY_4_0, CC_BY_NC_4_0, UNSPECIFIED, and
UNSUPPORTED</p></td>
    </tr>
    <tr>
      <th>organismId</th>
      <td><p>(numeric) An identifier for the Organism instance (as
opposed to a particular digital record of the Organism). May be a globally
unique identifier or an identifier specific to the data set.</p></td>
    </tr>
    <tr>
      <th>publishingOrg</th>
      <td><p>(character) The publishing organization key (a UUID).</p></td>
    </tr>
    <tr>
      <th>stateProvince</th>
      <td><p>(character) The name of the next smaller administrative
region than country (state, province, canton, department, region, etc.) in
which the Location occurs.</p></td>
    </tr>
    <tr>
      <th>waterBody</th>
      <td><p>(character) The name of the water body in which the
locations occur</p></td>
    </tr>
    <tr>
      <th>locality</th>
      <td><p>(character) The specific description of the place.</p></td>
    </tr>
    <tr>
      <th>limit</th>
      <td><p>Number of records to return. Default: 500. Note that the per
request maximum is 300, but since we set it at 500 for the function, we
do two requests to get you the 500 records (if there are that many).
Note that there is a hard maximum of 200,000, which is calculated as the
<code>limit+start</code>, so <code>start=199,000</code> and <code>limit=2000</code> won't work</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>Record number to start at. Use in combination with limit to
page through results. Note that we do the paging internally for you, but
you can manually set the <code>start</code> parameter</p></td>
    </tr>
    <tr>
      <th>spellCheck</th>
      <td><p>(logical) If <code>TRUE</code> ask GBIF to check your spelling of
the value passed to the <code>search</code> parameter. IMPORTANT: This only checks
the input to the <code>search</code> parameter, and no others. Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>skip_validate</th>
      <td><p>(logical) whether to skip <code>wicket::wkt_validate</code>
call or not. passed down to <code><a href='check_wkt.html'>check_wkt()</a></code>. Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>curlopts</th>
      <td><p>list of named curl options passed on to
<code><a href='https://www.rdocumentation.org/packages/crul/topics/HttpClient'>HttpClient</a></code>. see <code><a href='https://www.rdocumentation.org/packages/curl/topics/curl_options'>curl_options</a></code>
for curl options</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional facet parameters</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>gbif_data</code>, which is a S3 class list, with
slots for metadata (<code>meta</code>) and the occurrence data itself
(<code>data</code>),
and with attributes listing the user supplied arguments and whether it was a
"single" or "many" search; that is, if you supply two values of the
<code>datasetKey</code> parameter to searches are done, and it's a "many".
<code>meta</code> is a list of length four with offset, limit, endOfRecords and
count fields. <code>data</code> is a tibble (aka data.frame)</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This does nearly the same thing as <code><a href='occ_search.html'>occ_search()</a></code>, but
is a bit simplified for speed, and is for the most common use case where
user just wants the data, and not other information like taxon hierarchies
and media (e.g., images) information. Alot of time in
<code><a href='occ_search.html'>occ_search()</a></code> is used parsing data to be more useable
downstream. We do less of that in this function.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='http://www.gbif.org/developer/occurrence#search'>http://www.gbif.org/developer/occurrence#search</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='downloads.html'>downloads()</a></code>, <code><a href='occ_search.html'>occ_search()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
(<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='name_backbone.html'>name_backbone</a></span>(<span class='kw'>name</span><span class='kw'>=</span><span class='st'>'Encelia californica'</span>)$<span class='no'>speciesKey</span>)
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span> <span class='kw'>=</span> <span class='no'>key</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>4</span>)
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span> <span class='kw'>=</span> <span class='no'>key</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>400</span>))

<span class='co'># Return 20 results, this is the default by the way</span>
(<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='name_suggest.html'>name_suggest</a></span>(<span class='kw'>q</span><span class='kw'>=</span><span class='st'>'Helianthus annuus'</span>, <span class='kw'>rank</span><span class='kw'>=</span><span class='st'>'species'</span>)$<span class='no'>key</span>[<span class='fl'>1</span>])
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Instead of getting a taxon key first, you can search for a name directly</span>
<span class='co'>## However, note that using this approach (with \code{scientificName="..."})</span>
<span class='co'>## you are getting synonyms too. The results for using \code{scientifcName}</span>
<span class='co'>## and \code{taxonKey} parameters are the same in this case, but I wouldn't</span>
<span class='co'>## be surprised if for some names they return different results</span>
<span class='fu'>occ_data</span>(<span class='kw'>scientificName</span> <span class='kw'>=</span> <span class='st'>'Ursus americanus'</span>, <span class='kw'>curlopts</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>TRUE</span>))
<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='name_backbone.html'>name_backbone</a></span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>'Ursus americanus'</span>, <span class='kw'>rank</span><span class='kw'>=</span><span class='st'>'species'</span>)$<span class='no'>usageKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span> <span class='kw'>=</span> <span class='no'>key</span>)

<span class='co'># Search by dataset key</span>
<span class='fu'>occ_data</span>(<span class='kw'>datasetKey</span><span class='kw'>=</span><span class='st'>'7b5d6a48-f762-11e1-a439-00145eb45e9a'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>10</span>)

<span class='co'># Search by catalog number</span>
<span class='fu'>occ_data</span>(<span class='kw'>catalogNumber</span><span class='kw'>=</span><span class='st'>"49366"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>10</span>)
<span class='co'>## separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>catalogNumber</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"49366"</span>,<span class='st'>"Bird.27847588"</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>10</span>)
<span class='co'>## one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>catalogNumber</span><span class='kw'>=</span><span class='st'>"49366;Bird.27847588"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>10</span>)

<span class='co'># Use paging parameters (limit and start) to page. Note the different results</span>
<span class='co'># for the two queries below.</span>
<span class='fu'>occ_data</span>(<span class='kw'>datasetKey</span><span class='kw'>=</span><span class='st'>'7b5d6a48-f762-11e1-a439-00145eb45e9a'</span>,<span class='kw'>start</span><span class='kw'>=</span><span class='fl'>10</span>,<span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>5</span>)
<span class='fu'>occ_data</span>(<span class='kw'>datasetKey</span><span class='kw'>=</span><span class='st'>'7b5d6a48-f762-11e1-a439-00145eb45e9a'</span>,<span class='kw'>start</span><span class='kw'>=</span><span class='fl'>20</span>,<span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>5</span>)

<span class='co'># Many dataset keys</span>
<span class='co'>## separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>datasetKey</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"50c9509d-22c7-4a22-a47d-8c48425ef4a7"</span>,
   <span class='st'>"7b5d6a48-f762-11e1-a439-00145eb45e9a"</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>## one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='no'>v</span><span class='kw'>=</span><span class='st'>"50c9509d-22c7-4a22-a47d-8c48425ef4a7;7b5d6a48-f762-11e1-a439-00145eb45e9a"</span>
<span class='fu'>occ_data</span>(<span class='kw'>datasetKey</span> <span class='kw'>=</span> <span class='no'>v</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Search by recorder</span>
<span class='fu'>occ_data</span>(<span class='kw'>recordedBy</span><span class='kw'>=</span><span class='st'>"smith"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Many collector names</span>
<span class='co'>## separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>recordedBy</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"smith"</span>,<span class='st'>"BJ Stacey"</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>10</span>)
<span class='co'>## one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>recordedBy</span><span class='kw'>=</span><span class='st'>"smith;BJ Stacey"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>10</span>)

<span class='co'># Pass in curl options for extra fun</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='fl'>2433407</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>curlopts</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>TRUE</span>))
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='fl'>2433407</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>,
  <span class='kw'>curlopts</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(
    <span class='kw'>noprogress</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
    <span class='kw'>progressfunction</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>down</span>, <span class='no'>up</span>) {
      <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cat'>cat</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sprintf'>sprintf</a></span>(<span class='st'>"up: %d | down %d\n"</span>, <span class='no'>up</span>, <span class='no'>down</span>))
      <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/function'>return</a></span>(<span class='fl'>TRUE</span>)
    }
  )
)
<span class='co'># occ_data(taxonKey=2433407, limit=20, curlopts=list(timeout_ms=1))</span>

<span class='co'># Search for many species</span>
<span class='no'>splist</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'Cyanocitta stelleri'</span>, <span class='st'>'Junco hyemalis'</span>, <span class='st'>'Aix sponsa'</span>)
<span class='no'>keys</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>sapply</a></span>(<span class='no'>splist</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='name_suggest.html'>name_suggest</a></span>(<span class='no'>x</span>)$<span class='no'>key</span>[<span class='fl'>1</span>], <span class='kw'>USE.NAMES</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='co'>## separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span> <span class='kw'>=</span> <span class='no'>keys</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>5</span>)
<span class='co'>## one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/paste'>paste0</a></span>(<span class='no'>keys</span>, <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>";"</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>5</span>)

<span class='co'># Search using a synonym name</span>
<span class='co'>#  Note that you'll see a message printing out that the accepted name will</span>
<span class='co'># be used</span>
<span class='fu'>occ_data</span>(<span class='kw'>scientificName</span> <span class='kw'>=</span> <span class='st'>'Pulsatilla patens'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>5</span>)

<span class='co'># Search on latitidue and longitude</span>
<span class='fu'>occ_data</span>(<span class='kw'>decimalLatitude</span><span class='kw'>=</span><span class='fl'>40</span>, <span class='kw'>decimalLongitude</span><span class='kw'>=</span>-<span class='fl'>120</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>10</span>)

<span class='co'># Search on a bounding box</span>
<span class='co'>## in well known text format</span>
<span class='co'>### polygon</span>
<span class='fu'>occ_data</span>(<span class='kw'>geometry</span><span class='kw'>=</span><span class='st'>'POLYGON((30.1 10.1, 10 20, 20 40, 40 40, 30.1 10.1))'</span>,
  <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### multipolygon</span>
<span class='no'>wkt</span> <span class='kw'>&lt;-</span> <span class='st'>'MULTIPOLYGON(((-123 38, -123 43, -116 43, -116 38, -123 38)),
   ((-97 41, -97 45, -93 45, -93 41, -97 41)))'</span>
<span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/grep'>gsub</a></span>(<span class='st'>"\n\\s+"</span>, <span class='st'>""</span>, <span class='no'>wkt</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='co'>### polygon and taxonkey</span>
<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='name_suggest.html'>name_suggest</a></span>(<span class='kw'>q</span><span class='kw'>=</span><span class='st'>'Aesculus hippocastanum'</span>)$<span class='no'>key</span>[<span class='fl'>1</span>]
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>,
 <span class='kw'>geometry</span><span class='kw'>=</span><span class='st'>'POLYGON((30.1 10.1, 10 20, 20 40, 40 40, 30.1 10.1))'</span>,
 <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>## or using bounding box, converted to WKT internally</span>
<span class='fu'>occ_data</span>(<span class='kw'>geometry</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(-<span class='fl'>125.0</span>,<span class='fl'>38.4</span>,-<span class='fl'>121.8</span>,<span class='fl'>40.9</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'>## you can seaerch on many geometry objects</span>
<span class='co'>### separate requests: use a vector of strings</span>
<span class='no'>wkts</span> <span class='kw'>&lt;-</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'POLYGON((-102.2 46.0,-93.9 46.0,-93.9 43.7,-102.2 43.7,-102.2 46.0))'</span>,
<span class='st'>'POLYGON((30.1 10.1, 10 20, 20 40, 40 40, 30.1 10.1))'</span>)
<span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='no'>wkts</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/paste'>paste0</a></span>(<span class='no'>wkts</span>, <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>";"</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)


<span class='co'># Search on a long WKT string - too long for a GBIF search API request</span>
<span class='co'>## By default, a very long WKT string will likely cause a request failure as</span>
<span class='co'>## GBIF only handles strings up to about 1500 characters long. You can leave as is, or</span>
<span class='co'>##  - Alternatively, you can choose to break up your polygon into many, and do a</span>
<span class='co'>##      data request on each piece, and the output is put back together (see below)</span>
<span class='co'>##  - Or, 2nd alternatively, you could use the GBIF download API</span>
<span class='no'>wkt</span> <span class='kw'>&lt;-</span> <span class='st'>[2576 chars quoted with '"']</span>
<span class='no'>wkt</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/grep'>gsub</a></span>(<span class='st'>"\n"</span>, <span class='st'>" "</span>, <span class='no'>wkt</span>)

<span class='co'>#### Default option with large WKT string fails</span>
<span class='co'># res &lt;- occ_data(geometry = wkt)</span>

<span class='co'>#### if WKT too long, with 'geom_big=bbox': makes into bounding box</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='no'>wkt</span>, <span class='kw'>geom_big</span> <span class='kw'>=</span> <span class='st'>"bbox"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"rgeos"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"sp"</span>)
<span class='no'>wktsp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/rgeos/topics/wkt-functions'>readWKT</a></span>(<span class='no'>wkt</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>wktsp</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/sp/topics/coordinates'>coordinates</a></span>(<span class='no'>res</span>$<span class='no'>data</span>) <span class='kw'>&lt;-</span> ~<span class='no'>decimalLongitude</span>+<span class='no'>decimalLatitude</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>points</a></span>(<span class='no'>res</span>$<span class='no'>data</span>)

<span class='co'>#### Or, use 'geom_big=axe'</span>
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='no'>wkt</span>, <span class='kw'>geom_big</span> <span class='kw'>=</span> <span class='st'>"axe"</span>))
<span class='co'>##### manipulate essentially number of polygons that result, so number of requests</span>
<span class='co'>###### default geom_size is 40</span>
<span class='co'>###### fewer calls</span>
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='no'>wkt</span>, <span class='kw'>geom_big</span> <span class='kw'>=</span> <span class='st'>"axe"</span>, <span class='kw'>geom_size</span><span class='kw'>=</span><span class='fl'>50</span>))
<span class='co'>###### more calls</span>
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>geometry</span> <span class='kw'>=</span> <span class='no'>wkt</span>, <span class='kw'>geom_big</span> <span class='kw'>=</span> <span class='st'>"axe"</span>, <span class='kw'>geom_size</span><span class='kw'>=</span><span class='fl'>30</span>))

<span class='co'># Search on country</span>
<span class='fu'>occ_data</span>(<span class='kw'>country</span><span class='kw'>=</span><span class='st'>'US'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='no'>isocodes</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/grep'>grep</a></span>(<span class='st'>"France"</span>, <span class='no'>isocodes</span>$<span class='no'>name</span>),<span class='st'>"code"</span>]
<span class='fu'>occ_data</span>(<span class='kw'>country</span><span class='kw'>=</span><span class='st'>'FR'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='fu'>occ_data</span>(<span class='kw'>country</span><span class='kw'>=</span><span class='st'>'DE'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>country</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'US'</span>,<span class='st'>'DE'</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>'US;DE'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get only occurrences with lat/long data</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>hasCoordinate</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get only occurrences that were recorded as living specimens</span>
<span class='fu'>occ_data</span>(<span class='kw'>basisOfRecord</span><span class='kw'>=</span><span class='st'>"LIVING_SPECIMEN"</span>, <span class='kw'>hasCoordinate</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get occurrences for a particular eventDate</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>eventDate</span><span class='kw'>=</span><span class='st'>"2013"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>year</span><span class='kw'>=</span><span class='st'>"2013"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>month</span><span class='kw'>=</span><span class='st'>"6"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get occurrences based on depth</span>
<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='name_backbone.html'>name_backbone</a></span>(<span class='kw'>name</span><span class='kw'>=</span><span class='st'>'Salmo salar'</span>, <span class='kw'>kingdom</span><span class='kw'>=</span><span class='st'>'animals'</span>)$<span class='no'>speciesKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>depth</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get occurrences based on elevation</span>
<span class='no'>key</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='name_backbone.html'>name_backbone</a></span>(<span class='kw'>name</span><span class='kw'>=</span><span class='st'>'Puma concolor'</span>, <span class='kw'>kingdom</span><span class='kw'>=</span><span class='st'>'animals'</span>)$<span class='no'>speciesKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>elevation</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>hasCoordinate</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get occurrences based on institutionCode</span>
<span class='fu'>occ_data</span>(<span class='kw'>institutionCode</span><span class='kw'>=</span><span class='st'>"TLMF"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>institutionCode</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"TLMF"</span>,<span class='st'>"ArtDatabanken"</span>), <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>institutionCode</span> <span class='kw'>=</span> <span class='st'>"TLMF;ArtDatabanken"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Get occurrences based on collectionCode</span>
<span class='fu'>occ_data</span>(<span class='kw'>collectionCode</span><span class='kw'>=</span><span class='st'>"Floristic Databases MV - Higher Plants"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>### separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>collectionCode</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Floristic Databases MV - Higher Plants"</span>,
  <span class='st'>"Artport"</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>collectionCode</span> <span class='kw'>=</span> <span class='st'>"Floristic Databases MV - Higher Plants;Artport"</span>,
  <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'># Get only those occurrences with spatial issues</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='no'>key</span>, <span class='kw'>hasGeospatialIssue</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'># Search using a query string</span>
<span class='fu'>occ_data</span>(<span class='kw'>search</span><span class='kw'>=</span><span class='st'>"kingfisher"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)
<span class='co'>## spell check - only works with the `search` parameter</span>
<span class='co'>### spelled correctly - same result as above call</span>
<span class='fu'>occ_data</span>(<span class='kw'>search</span> <span class='kw'>=</span> <span class='st'>"kingfisher"</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>, <span class='kw'>spellCheck</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'>### spelled incorrectly - stops with suggested spelling</span>
<span class='co'># occ_data(search = "kajsdkla", limit=20, spellCheck = TRUE)</span>
<span class='co'>### spelled incorrectly - stops with many suggested spellings</span>
<span class='co'>###   and number of results for each</span>
<span class='co'># occ_data(search = "helir", limit=20, spellCheck = TRUE)</span>

<span class='co'># search on repatriated - doesn't work right now</span>
<span class='co'># occ_data(repatriated = "")</span>

<span class='co'># search on phylumKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>phylumKey</span> <span class='kw'>=</span> <span class='fl'>7707728</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on kingdomKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>kingdomKey</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on classKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>classKey</span> <span class='kw'>=</span> <span class='fl'>216</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on orderKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>orderKey</span> <span class='kw'>=</span> <span class='fl'>7192402</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on familyKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>familyKey</span> <span class='kw'>=</span> <span class='fl'>3925</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on genusKey</span>
<span class='fu'>occ_data</span>(<span class='kw'>genusKey</span> <span class='kw'>=</span> <span class='fl'>1935496</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on establishmentMeans</span>
<span class='fu'>occ_data</span>(<span class='kw'>establishmentMeans</span> <span class='kw'>=</span> <span class='st'>"INVASIVE"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'>occ_data</span>(<span class='kw'>establishmentMeans</span> <span class='kw'>=</span> <span class='st'>"NATIVE"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='fu'>occ_data</span>(<span class='kw'>establishmentMeans</span> <span class='kw'>=</span> <span class='st'>"UNCERTAIN"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='co'>### separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>establishmentMeans</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"INVASIVE"</span>, <span class='st'>"NATIVE"</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>establishmentMeans</span> <span class='kw'>=</span> <span class='st'>"INVASIVE;NATIVE"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on protocol</span>
<span class='fu'>occ_data</span>(<span class='kw'>protocol</span> <span class='kw'>=</span> <span class='st'>"DIGIR"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on license</span>
<span class='fu'>occ_data</span>(<span class='kw'>license</span> <span class='kw'>=</span> <span class='st'>"CC_BY_4_0"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on organismId</span>
<span class='fu'>occ_data</span>(<span class='kw'>organismId</span> <span class='kw'>=</span> <span class='st'>"100"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on publishingOrg</span>
<span class='fu'>occ_data</span>(<span class='kw'>publishingOrg</span> <span class='kw'>=</span> <span class='st'>"28eb1a3f-1c15-4a95-931a-4af90ecb574d"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on stateProvince</span>
<span class='fu'>occ_data</span>(<span class='kw'>stateProvince</span> <span class='kw'>=</span> <span class='st'>"California"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on waterBody</span>
<span class='fu'>occ_data</span>(<span class='kw'>waterBody</span> <span class='kw'>=</span> <span class='st'>"pacific ocean"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)

<span class='co'># search on locality</span>
<span class='fu'>occ_data</span>(<span class='kw'>locality</span> <span class='kw'>=</span> <span class='st'>"Trondheim"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='co'>### separate requests: use a vector of strings</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>locality</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Trondheim"</span>, <span class='st'>"Hovekilen"</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)
<span class='no'>res</span>$<span class='no'>Trondheim</span>$<span class='no'>data</span>
<span class='no'>res</span>$<span class='no'>Hovekilen</span>$<span class='no'>data</span>
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>locality</span> <span class='kw'>=</span> <span class='st'>"Trondheim;Hovekilen"</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>5</span>)


<span class='co'># Range queries</span>
<span class='co'>## See Detail for parameters that support range queries</span>
<span class='fu'>occ_data</span>(<span class='kw'>depth</span><span class='kw'>=</span><span class='st'>'50,100'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='co'>### this is not a range search, but does two searches for each depth</span>
<span class='fu'>occ_data</span>(<span class='kw'>depth</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>50</span>,<span class='fl'>100</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'>## Range search with year</span>
<span class='fu'>occ_data</span>(<span class='kw'>year</span><span class='kw'>=</span><span class='st'>'1999,2000'</span>, <span class='kw'>limit</span><span class='kw'>=</span><span class='fl'>20</span>)

<span class='co'>## Range search with latitude</span>
<span class='fu'>occ_data</span>(<span class='kw'>decimalLatitude</span><span class='kw'>=</span><span class='st'>'29.59,29.6'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'># Search by specimen type status</span>
<span class='co'>## Look for possible values of the typeStatus parameter looking at the typestatus dataset</span>
<span class='fu'>occ_data</span>(<span class='kw'>typeStatus</span> <span class='kw'>=</span> <span class='st'>'allotype'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)$<span class='no'>data</span>[,<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'name'</span>,<span class='st'>'typeStatus'</span>)]

<span class='co'># Search by specimen record number</span>
<span class='co'>## This is the record number of the person/group that submitted the data, not GBIF's numbers</span>
<span class='co'>## You can see that many different groups have record number 1, so not super helpful</span>
<span class='fu'>occ_data</span>(<span class='kw'>recordNumber</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)$<span class='no'>data</span>[,<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'name'</span>,<span class='st'>'recordNumber'</span>,<span class='st'>'recordedBy'</span>)]

<span class='co'># Search by last time interpreted: Date the record was last modified in GBIF</span>
<span class='co'>## The lastInterpreted parameter accepts ISO 8601 format dates, including</span>
<span class='co'>## yyyy, yyyy-MM, yyyy-MM-dd, or MM-dd. Range queries are accepted for lastInterpreted</span>
<span class='fu'>occ_data</span>(<span class='kw'>lastInterpreted</span> <span class='kw'>=</span> <span class='st'>'2016-04-02'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'># Search for occurrences with images</span>
<span class='fu'>occ_data</span>(<span class='kw'>mediaType</span> <span class='kw'>=</span> <span class='st'>'StillImage'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='fu'>occ_data</span>(<span class='kw'>mediaType</span> <span class='kw'>=</span> <span class='st'>'MovingImage'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='fu'>occ_data</span>(<span class='kw'>mediaType</span> <span class='kw'>=</span> <span class='st'>'Sound'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'># Search by continent</span>
<span class='co'>## One of africa, antarctica, asia, europe, north_america, oceania, or</span>
<span class='co'>## south_america</span>
<span class='fu'>occ_data</span>(<span class='kw'>continent</span> <span class='kw'>=</span> <span class='st'>'south_america'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)$<span class='no'>meta</span>
<span class='fu'>occ_data</span>(<span class='kw'>continent</span> <span class='kw'>=</span> <span class='st'>'africa'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)$<span class='no'>meta</span>
<span class='fu'>occ_data</span>(<span class='kw'>continent</span> <span class='kw'>=</span> <span class='st'>'oceania'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)$<span class='no'>meta</span>
<span class='fu'>occ_data</span>(<span class='kw'>continent</span> <span class='kw'>=</span> <span class='st'>'antarctica'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)$<span class='no'>meta</span>
<span class='co'>### separate requests: use a vector of strings</span>
<span class='fu'>occ_data</span>(<span class='kw'>continent</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'south_america'</span>, <span class='st'>'oceania'</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='co'>### one request, many instances of same parameter: use semi-colon sep. string</span>
<span class='fu'>occ_data</span>(<span class='kw'>continent</span> <span class='kw'>=</span> <span class='st'>'south_america;oceania'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'># Query based on issues - see Details for options</span>
<span class='co'>## one issue</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>issue</span><span class='kw'>=</span><span class='st'>'DEPTH_UNLIKELY'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='no'>x</span>$<span class='no'>data</span>[,<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'name'</span>,<span class='st'>'key'</span>,<span class='st'>'decimalLatitude'</span>,<span class='st'>'decimalLongitude'</span>,<span class='st'>'depth'</span>)]
<span class='co'>## two issues</span>
<span class='fu'>occ_data</span>(<span class='kw'>taxonKey</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>issue</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'DEPTH_UNLIKELY'</span>,<span class='st'>'COORDINATE_ROUNDED'</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='co'># Show all records in the Arizona State Lichen Collection that cant be matched to the GBIF</span>
<span class='co'># backbone properly:</span>
<span class='fu'>occ_data</span>(<span class='kw'>datasetKey</span><span class='kw'>=</span><span class='st'>'84c0e1a0-f762-11e1-a439-00145eb45e9a'</span>,
   <span class='kw'>issue</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'TAXON_MATCH_NONE'</span>,<span class='st'>'TAXON_MATCH_HIGHERRANK'</span>), <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'># Parsing output by issue</span>
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>occ_data</span>(<span class='kw'>geometry</span><span class='kw'>=</span><span class='st'>'POLYGON((30.1 10.1, 10 20, 20 40, 40 40, 30.1 10.1))'</span>, <span class='kw'>limit</span> <span class='kw'>=</span> <span class='fl'>50</span>))
<span class='co'>## what do issues mean, can print whole table, or search for matches</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='fu'><a href='gbif_issues.html'>gbif_issues</a></span>())
<span class='fu'><a href='gbif_issues.html'>gbif_issues</a></span>()[ <span class='fu'><a href='gbif_issues.html'>gbif_issues</a></span>()$<span class='no'>code</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'cdround'</span>,<span class='st'>'cudc'</span>,<span class='st'>'gass84'</span>,<span class='st'>'txmathi'</span>), ]
<span class='co'>## or parse issues in various ways</span>
<span class='co'>### remove data rows with certain issue classes</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>'magrittr'</span>)
<span class='no'>res</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='occ_issues.html'>occ_issues</a></span>(<span class='no'>gass84</span>)
<span class='co'>### split issues into separate columns</span>
<span class='no'>res</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='occ_issues.html'>occ_issues</a></span>(<span class='kw'>mutate</span> <span class='kw'>=</span> <span class='st'>"split"</span>)
<span class='co'>### expand issues to more descriptive names</span>
<span class='no'>res</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='occ_issues.html'>occ_issues</a></span>(<span class='kw'>mutate</span> <span class='kw'>=</span> <span class='st'>"expand"</span>)
<span class='co'>### split and expand</span>
<span class='no'>res</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='occ_issues.html'>occ_issues</a></span>(<span class='kw'>mutate</span> <span class='kw'>=</span> <span class='st'>"split_expand"</span>)
<span class='co'>### split, expand, and remove an issue class</span>
<span class='no'>res</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='occ_issues.html'>occ_issues</a></span>(-<span class='no'>cudc</span>, <span class='kw'>mutate</span> <span class='kw'>=</span> <span class='st'>"split_expand"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://twitter.com/sckottie'>Scott Chamberlain</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

